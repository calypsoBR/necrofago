<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Autenticação da Equipe</title>
  <script>
    async function verificarCodigo(event) {
      event.preventDefault();
      const codigo = document.getElementById("codigo").value.trim().toUpperCase();

      try {
        const response = await fetch("https://ufpabr-my.sharepoint.com/:u:/g/personal/rmr_ufpa_br/EYwnrrFPGi9AnB3fT9gY20MBQueMShA0YeuteZq8mGZVPQ?e=29vWDM");
        const data = await response.json();

        if (data.includes(codigo)) {
          window.location.href = "index.html";
        } else {
          document.getElementById("mensagem").innerHTML = `
            <p style="color:red;">
              Código não encontrado. Você precisa primeiro responder ao formulário no link abaixo:
            </p>
            https://docs.google.com/forms/d/e/1FAIpQLSefBvc7r6Ibr33prhCd46oCbtSGIjvB5YKtYuZbAdkbJD0VBA/viewform?usp=dialog          
          `;
        }
      } catch (error) {
        console.error("Erro ao carregar o arquivo JSON:", error);
      }
    }
  </script>
</head>
<body>
  <h2>Autenticação da Equipe</h2>
  <form onsubmit="verificarCodigo(event)">
    <label for="codigo">Digite o código da sua equipe (tudo maiúsculo):</label><br>
    <input type="text" id="codigo" name="codigo" required><br><br>
    <button type="submit">Acessar</button>
  </form>
  <div id="mensagem" style="margin-top:20px;"></div>
</body>
</html>
